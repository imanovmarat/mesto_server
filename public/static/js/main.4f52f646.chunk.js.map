{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["Header","className","href","src","logoPath","alt","CurrentUserContext","React","createContext","Card","data","onClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardAddActiveLikeClassName","link","name","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","onCardClick","cards","avatar","about","map","card","key","Footer","PopupWithForm","children","formName","buttonName","isOpen","onClose","onSubmit","evt","target","currentTarget","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","onChange","value","id","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","placeholder","AddPlacePopup","setLink","ImagePopup","api","baseUrl","headers","this","_baseUrl","_headers","fetch","method","body","JSON","stringify","then","res","ok","json","Promise","reject","cardId","all","getUserInfo","getInitialCards","authorization","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","undefined","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","handleEscClose","document","addEventListener","removeEventListener","catch","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","removeCard","_","filter","setUserInfo","upgradeAvatar","addNewCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.4f52f646.chunk.js","sourcesContent":["import React from \"react\";\nimport logoPath from '../images/logo.svg';\n\nfunction Header() {\n  return(\n    <header className=\"header\">\n      <a href=\"#\" className=\"header__link\">\n        <img src={logoPath} alt=\"Логотип проекта места России\" className=\"header__logo\" />\n      </a>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({data, onClick, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = data.owner._id === currentUser._id;\n\n  const isLiked = data.likes.some(i => i._id === currentUser._id);\n\n  const cardAddActiveLikeClassName = (`place__like ${isLiked && \"place__like_active\"}`);\n\n  function handleLikeClick() {\n    onCardLike(data);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(data);\n  }\n\n  return (\n        <figure className=\"place\">\n          {isOwn && <button className=\"place__remove\" onClick={handleDeleteClick}/>}\n          <img src={data.link} alt={data.name} className=\"place__image\" onClick={()=>{onClick(data)}}/>\n          <figcaption className=\"place__container\">\n            <h2 className=\"place__title\">{data.name}</h2>\n            <div className=\"place__like-container\">\n              <button className={cardAddActiveLikeClassName} onClick={handleLikeClick} type=\"button\" />\n              <span className=\"place__like-counter\">{data.likes.length}</span>\n            </div>\n          </figcaption>\n        </figure>\n  )\n}\n\nexport default Card;","import React from \"react\";\nimport Card from \"../components/Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return(\n      <main className=\"content\">\n\n        <section className=\"profile\">\n          <div onClick={onEditAvatar} className=\"profile__avatar-container\">\n            <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__avatar\" />\n            <div className=\"profile__upgrade-avatar-icon\"/>\n          </div>\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button className=\"profile__button profile__button_type_edit\" onClick={onEditProfile} type=\"button\"/>\n          </div>\n          <p className=\"profile__position\">{currentUser.about}</p>\n          <button className=\"profile__button profile__button_type_add\" onClick={onAddPlace} type=\"button\"/>\n        </section>\n\n        <section className=\"places\">\n          {cards.map((card)=>(\n            <Card data={card} key={card._id} onClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />\n          ))}\n        </section>\n      </main>\n  );\n}\n\nexport default Main;","import React from \"react\";\n\nfunction Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">\n        &copy; 2020 Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from \"react\";\n\nfunction PopupWithForm({children, formName, buttonName, isOpen, onClose, onSubmit}) {\n\n  function handleOutsideClickClose(evt) {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  }\n\n  return(\n    <section className={`popup popup_type_${formName} ${isOpen && 'popup_opened'}`} onClick={handleOutsideClickClose}>\n      <form className=\"popup__container popup__container_size_small\" name={formName} onSubmit={onSubmit} noValidate>\n        <button className=\"popup__button popup__button_type_close\" onClick={onClose} type=\"button\" />\n        {children}\n        <button className=\"popup__button popup__button_type_submit\" type=\"submit\">{buttonName}</button>\n      </form>\n    </section>\n  );\n}\n\nexport default PopupWithForm;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleChangeName (e) {\n    setName(e.target.value)\n  }\n\n  function handleChangeDescription (e) {\n    setDescription(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm formName=\"edit-profile\" buttonName=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <fieldset className=\"popup__box\">\n        <legend className=\"popup__heading\">Редактировать профиль</legend>\n        <label className=\"popup__field\">\n          <input className=\"popup__input popup__input_field_first\" onChange={handleChangeName} value={name || ''} type=\"text\" id=\"name-input\" name=\"name-input\"\n                 minLength=\"2\" maxLength=\"40\" required />\n          <span className='popup__input-error' id='name-input-error'/>\n        </label>\n        <label className=\"popup__field\">\n          <input className=\"popup__input popup__input_field_second\" onChange={handleChangeDescription} value={description || ''} type=\"text\" id=\"position-input\"\n                 name=\"position-input\" minLength=\"2\" maxLength=\"200\" required />\n          <span className='popup__input-error' id='position-input-error'/>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n\n  const avatarRef = React.useRef();\n\n  React.useEffect(() => {\n    avatarRef.current.value = '';\n  },[isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm formName=\"update-avatar\" buttonName=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <fieldset className=\"popup__box\">\n        <legend className=\"popup__heading\">Обновить аватар</legend>\n        <label className=\"popup__field\">\n          <input className=\"popup__input popup__input_field_second\" ref={avatarRef} type=\"url\" id=\"update-avatar-input\"\n                 name=\"update-avatar-input\" placeholder=\"Ссылка на картинку\" required />\n          <span className='popup__input-error' id='update-avatar-input-error'/>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    setName('');\n    setLink('');\n  },[isOpen]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name: name,\n      link: link\n    });\n  }\n\n  return (\n    <PopupWithForm formName=\"add-card\" buttonName=\"Создать\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <fieldset className=\"popup__box\">\n        <legend className=\"popup__heading\">Новое место</legend>\n        <label className=\"popup__field\">\n          <input className=\"popup__input popup__input_field_first\" type=\"text\" id=\"card-name-input\" value={name}\n                 onChange={handleChangeName} name=\"card-name-input\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required />\n\n          <span className='popup__input-error' id='card-name-input-error'/>\n        </label>\n        <label className=\"popup__field\">\n          <input className=\"popup__input popup__input_field_second\" type=\"url\" id=\"card-image-input\" value={link}\n                 onChange={handleChangeLink} name=\"card-image-input\" placeholder=\"Ссылка на картинку\" required />\n          <span className='popup__input-error' id='card-image-input-error'/>\n        </label>\n      </fieldset>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nfunction ImagePopup({card, onClose}) {\n\n  function handleOutsideClickClose(evt) {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  }\n\n  return(\n    <section className={`popup popup_type_full-img ${card && 'popup_opened'}`} onClick={handleOutsideClickClose}>\n      <figure className=\"popup__container popup__container_size_large\">\n        <button className=\"popup__button popup__button_type_close\" onClick={onClose} type=\"button\"/>\n        <img src={card && card.link} alt={card && card.name} className=\"popup__image\" />\n        <figcaption className=\"popup__image-caption\">{card && card.name}</figcaption>\n      </figure>\n    </section>\n  );\n}\n\nexport default ImagePopup;","class Api {\n  constructor({baseUrl, headers}) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  upgradeAvatar({ avatar } ){\n  return fetch(`${this._baseUrl}/users/me/avatar`, {\n    method: 'PATCH',\n    headers: this._headers,\n    body: JSON.stringify({\n      avatar: avatar\n    })\n  })\n  .then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject('Ошибка запроса upgradeAvatar');\n  });\n}\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        method: 'DELETE',\n        headers: this._headers\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject('Ошибка запроса changeLikeCardStatus');\n      });\n\n    } else {\n      return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n        method: 'PUT',\n        headers: this._headers\n      })\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject('Ошибка запроса changeLikeCardStatus');\n        });\n    }\n\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject('Ошибка запроса removeCard');\n      });\n  }\n\n  addNewCard({name, link}) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject('Ошибка запроса addNewCard');\n      });\n  }\n\n  setUserInfo({name, about}) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject('Ошибка запроса setUserInfo');\n      });\n  }\n\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {headers: this._headers})\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject('Ошибка запроса getInitialCards');\n      });\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {headers: this._headers})\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject('Ошибка запроса getUserInfo');\n      });\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n  headers: {\n    authorization: '07c4c298-6889-4e26-9c08-b58fb03c5fdf',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n\n  // Закрытие попапов при нажатии Esc\n\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', handleEscClose);\n\n    return () => document.removeEventListener('keydown', handleEscClose);\n\n  },[])\n\n// Получение начальных карточек и информации о пользователе\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then(res => {\n        setCards(res);\n      })\n      .catch(res => console.log(`Возникла ошибка: ${res}`));\n  },[]);\n\n  React.useEffect(() => {\n    api.getUserInfo().then( res => {\n      setCurrentUser(res);\n    })\n      .catch(res => console.log(`Возникла ошибка: ${res}`));\n  },[]);\n\n  function handleAddPlaceSubmit(newCard) {\n    api.addNewCard(newCard)\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch(res => console.log(`Возникла ошибка: ${res}`));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(res => console.log(`Возникла ошибка: ${res}`));\n  }\n\n  function handleCardDelete(card) {\n\n    api.removeCard(card._id)\n      .then(_ => {\n        const newCards = cards.filter((c) => c._id === card._id ? false : c);\n        setCards(newCards);\n      })\n      .catch(res => console.log(`Возникла ошибка: ${res}`));;\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n\n    setSelectedCard(undefined);\n  }\n\n  function handleUpdateUser(data) {\n    api.setUserInfo(data)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(res => console.log(`Возникла ошибка: ${res}`));\n  }\n\n  function handleUpdateAvatar(data) {\n    api.upgradeAvatar(data)\n      .then(res => {\n        setCurrentUser(res);\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(res => console.log(`Возникла ошибка: ${res}`));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n          <div className=\"page__container\">\n            <Header />\n            <Main\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}/>\n            <Footer />\n\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n\n            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n\n            <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n            <PopupWithForm formName=\"confirm\" buttonName=\"Да\" onClose={closeAllPopups}>\n              <div className=\"popup__heading\">Вы уверены?</div>\n            </PopupWithForm>\n          </div>\n        </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.e889e45f.svg\";"],"sourceRoot":""}